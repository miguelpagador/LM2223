<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuarios aleatorios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <!-- Aquí deberíamos enlazar a jQuery (usa URL alojada en Internet)-->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

    <style>
        body {
            background-color: rgb(240, 239, 239);
        }

        #flex {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .circle {
            border-radius: 50%;
        }
    </style>
</head>

<body>
    <div class='container'>
        <div id='flex' class='card'>
            <div class="card-header">
                <h3 class="card-title">Generador de usuarios</h3>
            </div>
            <div class="card-body">
                <div class='usuario'>
                    <img src='' class='circle'>
                    <p class='fullname'></p>
                    <p class='username'></p>
                    <p class='email'></p>
                    <p class='city'></p>
                    <div class="card-footer">
                        <button id="btn-generico" class='btn btn-primary'>Genérico</button>
                        <button id="btn-espanol" class='btn btn-primary'>Español</button>
                        <button id="btn-varios" class='btn btn-primary'>5 Españoles</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        /* Aquí deberías escribir tu código de jQuery */
        $(document).ready(function () {
            $("#btn-generico").click(function (e) { 
                e.preventDefault();
                $.get("https://randomuser.me/api/").done(function (r){
                    console.log(r)
                    let num_users = r.length;
                    $("card").empty();
                    for (let i=0; i<num_users; i++){
                        let respuesta = new Object(r[i]);
                        let imagen = respuesta.results.picture;
                        let nombre = respuesta.results.name.title;
                        let user = respuesta.results.login.username;
                        let email = respuesta.results.email;
                        let domicilio = respuesta.results.location.city;
                        $('card').append(
                            '<p>'+'<img width="120" src="'+imagen+'"></p>' +
                            '<p>'+nombre+'</p>' + 
                            '<p>'+user+'</p>' + 
                            '<p>'+email+ '</p>' +
                            '<p>'+domicilio+'</p>');
                    }
                });
            });

            $("#btn-espanol").click(function(){
                let codigo = $("#codProducto").val();
                $.get("https://randomuser.me/api/"+'?nat=es').done(function (respuesta){
                    console.log(respuesta);
                    let titulo = respuesta.title;
                    let id = respuesta.id;
                    let precio = respuesta.price;
                    let imagen = respuesta.category.image;
                    $(".card").empty();
                    $('.card').append(
                        '<p>'+'<img width="120" src="'+imagen+'"></p>' +
                        '<p>Título: '+titulo+'</p>' + 
                        '<p>Precio: '+precio+'</p>' + 
                        '<p>Id: ' + id + '</p>');
                }).fail(function (respuesta){
                    alert("Error");
                });
            })

            $("#btn-varios").click(function(){
                    let codigo = $("#codProducto").val();
                    $.get("https://randomuser.me/api/"+'?nat=es&results=5').done(function (respuesta){
                        console.log(respuesta);
                        let titulo = respuesta.title;
                        let id = respuesta.id;
                        let precio = respuesta.price;
                        let imagen = respuesta.category.image;
                        $(".card").empty();
                        $('.card').append(
                            '<p>'+'<img width="120" src="'+imagen+'"></p>' +
                            '<p>Título: '+titulo+'</p>' + 
                            '<p>Precio: '+precio+'</p>' + 
                            '<p>Id: ' + id + '</p>');
                    }).fail(function (respuesta){
                        alert("Error");
                    });
                })
            });

    </script>
</body>

</html>